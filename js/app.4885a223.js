(function(){"use strict";var t={1920:function(t,e,n){var r=n(9242),a=n(3396);const i={id:"app"},s={class:"content"};function o(t,e,n,r,o,c){const l=(0,a.up)("AppHeader"),u=(0,a.up)("router-view"),p=(0,a.up)("AppFooter");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",s,[(0,a.Wm)(l),(0,a.Wm)(u)]),(0,a.Wm)(p)])}const c={class:"footer"};function l(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("footer",c)}var u={name:"AppFooter"},p=n(89);const m=(0,p.Z)(u,[["render",l],["__scopeId","data-v-66dd20db"]]);var d=m;const v={class:"header"};function g(t,e,n,r,i,s){const o=(0,a.up)("Logo"),c=(0,a.up)("router-link"),l=(0,a.up)("Container");return(0,a.wg)(),(0,a.iD)("header",v,[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Wm)(o)])),_:1})])),_:1})])}const f={class:"container"};function w(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",f,[(0,a.WI)(t.$slots,"default",{},void 0,!0)])}var h={name:"Container"};const _=(0,p.Z)(h,[["render",w],["__scopeId","data-v-78826d48"]]);var y=_,b=n.p+"img/Logo.58687a0a.svg";const A={src:b,alt:""};function D(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("img",A)}var I={name:"Logo"};const W=(0,p.Z)(I,[["render",D]]);var R=W,k={name:"AppHeader",components:{Container:y,Logo:R}};const C=(0,p.Z)(k,[["render",g],["__scopeId","data-v-76dc84e4"]]);var S=C,Z={name:"App",components:{AppFooter:d,AppHeader:S}};const L=(0,p.Z)(Z,[["render",o]]);var O=L;function j(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",null," Foo ")}var V={};const z=(0,p.Z)(V,[["render",j]]);var q=z;function H(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",null," Bar ")}var U={};const $=(0,p.Z)(U,[["render",H]]);var x=$,N=n(2483);const B={class:"homepage"},F={key:0};function M(t,e,n,r,i,s){const o=(0,a.up)("ApartmentFilterForm"),c=(0,a.up)("Container"),l=(0,a.up)("ApartmentsItem"),u=(0,a.up)("ApartmentsList");return(0,a.wg)(),(0,a.iD)("main",B,[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{onSubmitted:s.filter,class:"apartments-filter"},null,8,["onSubmitted"])])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[s.filteredApartments.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",F,"Ничего не найдено")),(0,a.Wm)(u,{items:s.filteredApartments},{title:(0,a.w5)((()=>[(0,a.Uk)("New title")])),apartment:(0,a.w5)((({apartment:t})=>[((0,a.wg)(),(0,a.j4)(l,{key:t.id,id:t.id,description:t.description,price:t.price,rating:t.rating,imgUrl:t.imgUrl,class:"apartments-list__item"},null,8,["id","description","price","rating","imgUrl"]))])),_:1},8,["items"])])),_:1})])}var K=n(7139);const P={class:"apartments-item"},Y=["src"],T={class:"apartments-item__content"},G={class:"apartments-item__description"},J={class:"apartments-item__rating"},E={class:"apartments-item__price"};function Q(t,e,n,r,i,s){const o=(0,a.up)("StarRating"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("img",{src:n.imgUrl,alt:"",class:"apartments-item__photo"},null,8,Y),(0,a._)("div",T,[(0,a._)("p",G,(0,K.zw)(n.description),1),(0,a._)("div",J,[(0,a.Wm)(o,{rating:n.rating},null,8,["rating"])]),(0,a._)("div",E,"UAN "+(0,K.zw)(n.price),1),(0,a.Wm)(c,{to:{name:"apartment",params:{id:n.id}},class:"apartments-item__link"},null,8,["to"])])])}const X={class:"star-rating"};function tt(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",X,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.starLimit,(t=>((0,a.wg)(),(0,a.iD)("span",{key:t,class:"star star--outlined"})))),128)),(0,a._)("div",{class:"star-rating__colored",style:(0,K.j5)(s.ratingWidthStyle)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.starLimit,(t=>((0,a.wg)(),(0,a.iD)("span",{key:t,class:"star star--colored"})))),128))],4)])}var et={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}};const nt=(0,p.Z)(et,[["render",tt],["__scopeId","data-v-7b21e820"]]);var rt=nt,at={name:"ApartmentsItem",components:{StarRating:rt},props:{id:{type:String,required:!0},description:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,required:!0},imgUrl:{type:String,default:""}}};const it=(0,p.Z)(at,[["render",Q],["__scopeId","data-v-6688a72c"]]);var st=it;const ot={class:"apartments-list"};function ct(t,e,n,r,i,s){const o=(0,a.up)("Container");return(0,a.wg)(),(0,a.j4)(o,null,{default:(0,a.w5)((()=>[(0,a.WI)(t.$slots,"title",{},void 0,!0),(0,a._)("div",ot,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.items,(e=>(0,a.WI)(t.$slots,"apartment",{apartment:e},void 0,!0))),256))])])),_:3})}var lt={name:"AparamentsList",components:{Container:y},props:{items:{type:Array,default:()=>[]}}};const ut=(0,p.Z)(lt,[["render",ct],["__scopeId","data-v-84abb69a"]]);var pt=ut;function mt(t,e,n,i,s,o){const c=(0,a.up)("CustomSelect"),l=(0,a.up)("CustomInput"),u=(0,a.up)("SubmitButton");return(0,a.wg)(),(0,a.iD)("form",{class:"form",onSubmit:e[2]||(e[2]=(0,r.iM)(((...t)=>o.handleSubmit&&o.handleSubmit(...t)),["prevent"]))},[(0,a.Wm)(c,{modelValue:s.city,"onUpdate:modelValue":e[0]||(e[0]=t=>s.city=t),items:o.cities,class:"form__select"},null,8,["modelValue","items"]),(0,a.Wm)(l,{modelValue:s.price,"onUpdate:modelValue":e[1]||(e[1]=t=>s.price=t),placeholder:"Цена от","error-message":"Не должо быть пустым",rules:[t=>!!t]},null,8,["modelValue","rules"]),(0,a.Wm)(u,{type:"submit",class:"form__btn"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Подбор жилья ")])),_:1})],32)}const dt=["value"];function vt(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("select",(0,a.dG)((0,a.mx)(s.listeners,!0),{class:"custom-select"}),[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.formatedItems,(t=>((0,a.wg)(),(0,a.iD)("option",{value:t.value,key:t.value},(0,K.zw)(t.label),9,dt)))),128))],16)}var gt={name:"CustomSelect",props:{items:Array,required:!0},computed:{listeners(){return{input:t=>this.$emit("update:modelValue",t.target.value)}},formatedItems(){return this.items.map((t=>"object"===typeof t?t:{value:t,label:t}))}}};const ft=(0,p.Z)(gt,[["render",vt],["__scopeId","data-v-235f8f3a"]]);var wt=ft;const ht={class:"wrapper-input"},_t={key:0,class:"custom-input__error"};function yt(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",ht,[(0,a._)("input",(0,a.dG)((0,a.mx)(s.listeners,!0),{class:["custom-input",!i.isValid&&"custom-input--error"]}),null,16),i.isValid?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",_t,(0,K.zw)(n.errorMessage),1))])}var bt={name:"CustomInput",data(){return{isValid:!0}},props:{modelValue:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]}},computed:{listeners(){return{input:t=>this.$emit("update:modelValue",t.target.value)}}},watch:{modelValue(t){this.validate(t),console.log(t)}},methods:{validate(t){this.isValid=this.rules.every((e=>e(t)))}}};const At=(0,p.Z)(bt,[["render",yt],["__scopeId","data-v-293071ed"]]);var Dt=At;const It=["type"];function Wt(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("button",{class:"btn",onClick:e[0]||(e[0]=(...e)=>t.$listeners&&t.$listeners(...e)),type:n.type},[(0,a.WI)(t.$slots,"default",{},void 0,!0)],8,It)}var Rt={name:"Button",props:{type:{type:String,default:"button",required:!0},outlined:{type:Boolean,default:!1}}};const kt=(0,p.Z)(Rt,[["render",Wt],["__scopeId","data-v-50ea89dc"]]);var Ct=kt,St={components:{CustomSelect:wt,CustomInput:Dt,SubmitButton:Ct},data(){return{price:0,city:""}},computed:{cities(){return[{value:"",label:"Город",selected:!0},"Kyiv","Odesa","Poltava","Kharkiv","Dnipro","Lviv","Kherson","Mariupol"]}},methods:{handleSubmit(){console.log(this.city,this.price),this.$emit("submitted",{city:this.city,price:this.price})}}};const Zt=(0,p.Z)(St,[["render",mt],["__scopeId","data-v-5ba12a80"]]);var Lt=Zt,Ot=n(4161);const jt=Ot.Z.create({baseURL:"https://apt-booking-api.herokuapp.com/"});var Vt=jt;const zt=()=>Vt.get("/apartments"),qt=t=>Vt.get(`/apartments/${t}`);var Ht={name:"Homepage",components:{ApartmentsItem:st,ApartmentsList:pt,ApartmentFilterForm:Lt,Container:y},data(){return{apartments:[],filters:{city:"",price:0}}},computed:{filteredApartments(){return this.filterByCityName(this.filterByPrice(this.apartments))}},async created(){try{const{data:t}=await zt();this.apartments=t,console.log(t)}catch(t){console.error(t)}},methods:{filter({city:t,price:e}){this.filters.city=t,this.filters.price=e},filterByCityName(t){return this.filters.city?t.filter((t=>t.location.city===this.filters.city)):t},filterByPrice(t){return this.filters.price?t.filter((t=>t.price>=this.filters.price)):t}}};const Ut=(0,p.Z)(Ht,[["render",M]]);var $t=Ut;const xt={class:"apartment-page"},Nt={key:0,class:"apartment-page__content"},Bt={class:"apartment-page__additional-info"};function Ft(t,e,n,r,i,s){const o=(0,a.up)("ApartmentsMainInfo"),c=(0,a.up)("ApartmentOwner"),l=(0,a.up)("Reviews"),u=(0,a.up)("Container");return(0,a.wg)(),(0,a.iD)("main",xt,[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[i.apartment?((0,a.wg)(),(0,a.iD)("div",Nt,[(0,a.Wm)(o,{apartment:i.apartment},null,8,["apartment"]),(0,a._)("div",Bt,[(0,a.Wm)(c,{class:"apartment-page__owner",owner:i.apartment.owner},null,8,["owner"]),(0,a.Wm)(l,{reviews:s.reviewsList},null,8,["reviews"])])])):(0,a.kq)("",!0)])),_:1})])}const Mt={class:"apartment-main-info"},Kt={class:"apartment-main-info__heading"},Pt={class:"apartment-main-info__title"},Yt=["src"],Tt={class:"apartment-main-info__description"};function Gt(t,e,n,r,i,s){const o=(0,a.up)("Rating");return(0,a.wg)(),(0,a.iD)("article",Mt,[(0,a._)("div",Kt,[(0,a._)("h1",Pt,(0,K.zw)(n.apartment.title),1),(0,a.Wm)(o,{rating:n.apartment.rating},null,8,["rating"])]),(0,a._)("img",{src:n.apartment.imgUrl,alt:"",class:"apartment-main-info__photo"},null,8,Yt),(0,a._)("p",Tt,(0,K.zw)(n.apartment.descr),1)])}var Jt={name:"ApartmentMainInfo",components:{Rating:rt},props:{apartment:{type:Object,require:!0}}};const Et=(0,p.Z)(Jt,[["render",Gt],["__scopeId","data-v-3e11697e"]]);var Qt=Et;const Xt=t=>((0,a.dD)("data-v-77627040"),t=t(),(0,a.Cn)(),t),te={class:"apartment-owner"},ee=Xt((()=>(0,a._)("h2",{class:"apartment-owner__title"},"Информация о владельце:",-1))),ne={class:"apartment-owner__info"},re={class:"apartment-owner__info"},ae={class:"apartment-owner__info"};function ie(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("section",te,[ee,(0,a._)("p",ne,"name: "+(0,K.zw)(n.owner.name),1),(0,a._)("p",re,"tel: "+(0,K.zw)(n.owner.phone),1),(0,a._)("p",ae,"email: "+(0,K.zw)(n.owner.email),1)])}var se={name:"ApartmentOwner",props:{owner:{type:Object,required:!0}}};const oe=(0,p.Z)(se,[["render",ie],["__scopeId","data-v-77627040"]]);var ce=oe;const le=t=>((0,a.dD)("data-v-62495e82"),t=t(),(0,a.Cn)(),t),ue={class:"reviews"},pe={class:"reviews__heading"},me=le((()=>(0,a._)("h2",{class:"reviews__title"},"Суммарный рейтинг",-1))),de={class:"reviews__rating"};function ve(t,e,n,r,i,s){const o=(0,a.up)("Rating"),c=(0,a.up)("ReviewsItem");return(0,a.wg)(),(0,a.iD)("section",ue,[(0,a._)("div",pe,[me,(0,a._)("div",de,[(0,a._)("span",null,(0,K.zw)(s.amountOfReviews)+" comment",1),(0,a.Wm)(o,{rating:s.totalRating},null,8,["rating"])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.currentReviews,(t=>((0,a.wg)(),(0,a.j4)(c,{key:t.author,review:t},null,8,["review"])))),128)),(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>s.toggleReviews&&s.toggleReviews(...t)),class:"reviews__show-more"},(0,K.zw)(s.buttonText),1)])}const ge={class:"reviews-item"},fe={class:"reviews-item__content"};function we(t,e,n,r,i,s){const o=(0,a.up)("ReviewsHeading");return(0,a.wg)(),(0,a.iD)("section",ge,[(0,a.Wm)(o,{rating:n.review.rating,author:n.review.author},null,8,["rating","author"]),(0,a._)("p",fe,(0,K.zw)(n.review.content),1)])}const he={class:"reviews-heading"},_e={class:"reviews-heading__content"},ye={class:"reviews-heading__author"};function be(t,e,n,r,i,s){const o=(0,a.up)("Avatar"),c=(0,a.up)("Rating");return(0,a.wg)(),(0,a.iD)("div",he,[(0,a.Wm)(o),(0,a._)("div",_e,[(0,a._)("p",ye,(0,K.zw)(n.author),1),(0,a.Wm)(c,{rating:n.rating},null,8,["rating"])])])}var Ae=n.p+"img/avatar.cc83cec5.svg";const De=(0,a._)("img",{src:Ae,alt:"avatar"},null,-1),Ie=[De];function We(t,e,n,r,i,s){return(0,a.wg)(),(0,a.iD)("div",null,Ie)}var Re={name:"ReviewsAvatar"};const ke=(0,p.Z)(Re,[["render",We]]);var Ce=ke,Se={name:"ReviewsHeading",components:{Rating:rt,Avatar:Ce},props:{author:{type:String,required:!0},rating:{type:Number,default:0}}};const Ze=(0,p.Z)(Se,[["render",be],["__scopeId","data-v-22dfa86a"]]);var Le=Ze,Oe={name:"ReviewsItem",components:{ReviewsHeading:Le},props:{review:{type:Object,required:!0}}};const je=(0,p.Z)(Oe,[["render",we]]);var Ve=je,ze={name:"Review",components:{ReviewsItem:Ve,Rating:rt},props:{reviews:{type:Array,required:!0}},data(){return{reviewsLimit:2}},computed:{totalRating(){const t=this.reviews.reduce(((t,e)=>t+e.rating),0);return t/this.reviews.length},amountOfReviews(){return this.reviews.length},currentReviews(){return this.reviews.slice(0,this.reviewsLimit)},buttonText(){return this.reviewsLimit===this.reviews.length?"Cвернуть":"Читать еще..."}},methods:{toggleReviews(){this.reviewsLimit!==this.reviews.length?this.reviewsLimit=this.reviews.length:this.reviewsLimit=2}}};const qe=(0,p.Z)(ze,[["render",ve],["__scopeId","data-v-62495e82"]]);var He=qe,Ue=JSON.parse('[{"author":"Alex","content":"ffhfhhf","rating":3.5},{"author":"Alex","content":"ffhllllllfhhf","rating":3.5},{"author":"AlexRon","content":"ffhfhhf","rating":5},{"author":"Marry","content":"ffhfdfdfdhhf","rating":3.5},{"author":"John","content":"ffhfhhf","rating":4}]'),$e={name:"ApartmentPage",components:{Container:y,ApartmentsMainInfo:Qt,ApartmentOwner:ce,Reviews:He},data(){return{apartment:null}},computed:{reviewsList(){return Ue}},async created(){try{const{id:t}=this.$route.params,{data:e}=await qt(t);this.apartment=e}catch(t){console.log(t)}},mounted(){console.log(this.apartment)}};const xe=(0,p.Z)($e,[["render",Ft],["__scopeId","data-v-27adb0f6"]]);var Ne=xe;const Be=[{path:"/",component:$t,name:"homepage"},{path:"/foo",component:q},{path:"/bar",component:x},{path:"/apartment/:id",component:Ne,name:"apartment"}],Fe=(0,N.p7)({history:(0,N.r5)(),mode:"history",routes:Be});var Me=Fe;(0,r.ri)(O).use(Me).mount("#app")}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,r,a,i){if(!r){var s=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],i=t[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(o=!1,i<s&&(s=i));if(o){t.splice(u--,1);var l=a();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,a,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,i,s=r[0],o=r[1],c=r[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(c)var u=c(n)}for(e&&e(r);l<s.length;l++)i=s[l],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},r=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1920)}));r=n.O(r)})();
//# sourceMappingURL=app.4885a223.js.map